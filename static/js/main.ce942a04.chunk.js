(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(86),a(30)),i=a(31),s=a(35),u=a(32),m=a(36),d=(a(87),a(79)),h=a.n(d),p=(a(106),function(e){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Ethical Makeup"),r.a.createElement("p",{className:"landing"}," I am looking for vegan",r.a.createElement("select",{defaultValue:"no-value",onChange:function(t){e.handleChange(t),e.scrollTo(t)}},r.a.createElement("option",{disabled:!0,value:"no-value"},"Select product"),r.a.createElement("option",{value:"blush"},"Blush"),r.a.createElement("option",{value:"bronzer"},"Bronzer"),r.a.createElement("option",{value:"eyebrow"},"Eyebrow"),r.a.createElement("option",{value:"eyeliner"},"Eyeliner"),r.a.createElement("option",{value:"eyeshadow"},"Eyeshadow"),r.a.createElement("option",{value:"foundation"},"Foundation"),r.a.createElement("option",{value:"lip_liner"},"Lip Liner"),r.a.createElement("option",{value:"lipstick"},"Lipstick"),r.a.createElement("option",{value:"mascara"},"Mascara"),r.a.createElement("option",{value:"nail_polish"},"Nail Polish"))))}),v=(a(107),a(33)),E=a.n(v),b=a(34),f=a.n(b),g=a(22),w=function(e){return r.a.createElement("section",{className:"gallery wrapper",id:"gallery"},r.a.createElement("ul",{className:"clearfix"},e.userResults.map(function(t){return r.a.createElement("li",{key:t.id,tabIndex:"0",onKeyPress:function(a){return e.handleKeyPress(a,t.id)}},r.a.createElement(g.Link,{to:"details",spy:!0,smooth:!0,offset:-30,duration:1300,onClick:function(){e.handleClick(t.id)}},1043===t.id?r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:E.a,alt:t.name})):1042===t.id?r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:f.a,alt:t.name})):r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:t.image_link,alt:t.name})),r.a.createElement("div",null,r.a.createElement("h2",{className:"title"},t.name),t.price>0?r.a.createElement("p",{className:"price"},"$",e.round(t.price)):r.a.createElement("p",{className:"none"},"Price is unavailable"))))})))},N=(a(117),function(e){return r.a.createElement("div",{className:"description-card clearfix wrapper",key:e.chosenProductObject.id},r.a.createElement("div",{className:"image"},1043===e.chosenProductObject.id?r.a.createElement("img",{src:E.a,alt:e.chosenProductObject.name}):1042===e.chosenProductObject.id?r.a.createElement("img",{src:f.a,alt:e.chosenProductObject.name}):r.a.createElement("img",{src:e.chosenProductObject.image_link,alt:e.chosenProductObject.name})),r.a.createElement("div",{className:"description clearfix"},r.a.createElement("div",{key:""},r.a.createElement("h2",null,e.chosenProductObject.name),e.chosenProductObject.price>0?r.a.createElement("p",null,"$",e.round(e.chosenProductObject.price)):r.a.createElement("p",{className:"none"},"Price is unavailable"),r.a.createElement("p",{className:"descriptionText"},e.chosenProductObject.description),e.chosenProductObject.rating?r.a.createElement("p",null,r.a.createElement("strong",null,"Rating:")," ",e.chosenProductObject.rating,"/5"):r.a.createElement("p",{className:"noRating"},"Rating: ",r.a.createElement("span",null,"Unavailable")),r.a.createElement("div",{className:"clearfix"},e.chosenProductObject.product_colors.map(function(e){return r.a.createElement("div",{className:"colours"},r.a.createElement("span",{className:"colour",style:{background:e.hex_value}}))})),r.a.createElement("a",{href:e.chosenProductObject.product_link,target:"_blank",rel:"noopener noreferrer",className:"button"},"Buy Now"))))}),y=a(80),j=(a(118),function(e){return r.a.createElement("form",{className:"formReview wrapper clearfix",action:"submit",onSubmit:e.handleSubmit},r.a.createElement("div",{className:"formName"},r.a.createElement("label",{htmlFor:"reviewName",className:"visuallyHidden"},"Name:"),r.a.createElement("input",{required:!0,type:"text",id:"reviewName",name:"reviewName",placeholder:"Your name",onChange:e.handleFormChange})),r.a.createElement("div",{className:"buyAgain"},r.a.createElement("p",null,"Would you buy this product again?"),r.a.createElement("div",{className:"buyAgainAnswer"},r.a.createElement("input",{required:!0,type:"radio",id:"yes",name:"buyAgain",value:"Would buy again",onChange:e.handleFormChange}),r.a.createElement("label",{htmlFor:"yes"},"Yes"),r.a.createElement("input",{required:!0,type:"radio",id:"no",name:"buyAgain",value:"Would not buy again",onChange:e.handleFormChange}),r.a.createElement("label",{htmlFor:"no"},"No"))),r.a.createElement("div",{className:"formCommentField"},r.a.createElement("label",{htmlFor:"reviewText",className:"visuallyHidden"},"Review:"),r.a.createElement("textarea",{required:!0,id:"reviewText",placeholder:"How was your experience with this product?",cols:"20",rows:"5",name:"reviewText",onChange:e.handleFormChange})),r.a.createElement("div",{className:"formButton"},r.a.createElement("input",{type:"submit",value:"Submit Review",className:"button"})))}),O=a(58),P=a.n(O);P.a.initializeApp({apiKey:"AIzaSyCuAzCiIfuNXY_JNuGKDSu8fjt6Zi-4PLI",authDomain:"ethicalmakeup-6bf80.firebaseapp.com",databaseURL:"https://ethicalmakeup-6bf80.firebaseio.com",projectId:"ethicalmakeup-6bf80",storageBucket:"ethicalmakeup-6bf80.appspot.com",messagingSenderId:"75744406236"});var k=P.a,C=(a(173),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleOpenForm=function(){a.setState({openForm:!0})},a.handleSubmit=function(e){e.preventDefault();var t=new Date,n=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate();a.setState({date:n},function(){var e=k.database().ref(),t={id:a.props.chosenProductObject.id,name:a.state.reviewName,buyAgain:a.state.buyAgain,reviewText:a.state.reviewText,date:a.state.date};e.push(t)}),e.target.reset()},a.handleFormChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state={openForm:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"reviews"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,"reviews"),0===this.props.reviews.length?r.a.createElement("div",{className:"review"},r.a.createElement("p",null,"Be the first to review this product!")):this.props.reviews.map(function(e){return r.a.createElement("div",{className:"review clearfix"},r.a.createElement("h3",null,e.name),r.a.createElement("p",{className:"date"},e.date," "),r.a.createElement("p",{className:"choice"},e.buyAgain," "),r.a.createElement("p",null,r.a.createElement("strong",null,"Review"),": ",e.reviewText))}),r.a.createElement("button",{className:"button",onClick:function(){e.handleOpenForm(),e.props.scroll()}}," Add a review")),r.a.createElement("section",{className:"form"},!0===this.state.openForm?r.a.createElement(j,{handleSubmit:this.handleSubmit,handleFormChange:this.handleFormChange}):null))}}]),t}(n.Component)),x=(a(174),function(){return r.a.createElement("div",{className:"loader"})}),F=a(59),S=a.n(F),T=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).scrollToBottom=function(){g.animateScroll.scrollToBottom({duration:2e3})},e.scrollTo=function(){g.animateScroll.scrollTo(705,{delay:800,duration:1500})},e.handleChange=function(t){t.preventDefault(),e.setState({userProduct:t.target.value,chosenProductObject:"",isLoading:!0},function(){h()({method:"GET",url:"https://makeup-api.herokuapp.com/api/v1/products.json",responseType:"json",params:{format:"json",product_tags:"vegan",product_type:e.state.userProduct}}).then(function(t){0===(t=t.data).length&&S()({text:"Sorry, no products were found in this category",icon:"error"}),e.setState({userResults:t,isLoading:!1})}).catch(function(e){S()({text:"Server Error. Please try again later.",icon:"error"})})})},e.handleClick=function(t){var a=e.state.userResults.find(function(e){return e.id===t});e.setState({chosenProductObject:a},function(){k.database().ref().on("value",function(t){var a=t.val(),n=[];for(var r in a)n.push({id:a[r].id,name:a[r].name,buyAgain:a[r].buyAgain,reviewText:a[r].reviewText,date:a[r].date});e.setState({reviews:n.filter(function(t){return t.id===e.state.chosenProductObject.id})})})})},e.round=function(e){return Number.parseFloat(e).toFixed(2)},e.state={userProduct:"",userResults:[],chosenProductObject:"",reviews:[],isLoading:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(p,{handleChange:this.handleChange,scrollTo:this.scrollTo}),this.state.isLoading?r.a.createElement(x,null):null),r.a.createElement("main",null,r.a.createElement(w,{userResults:this.state.userResults,handleClick:this.handleClick,round:this.round}),r.a.createElement("section",{id:"details"},this.state.chosenProductObject?r.a.createElement(N,{round:this.round,chosenProductObject:this.state.chosenProductObject}):null),this.state.chosenProductObject?r.a.createElement(C,{scroll:this.scrollToBottom,chosenProductObject:this.state.chosenProductObject,reviews:this.state.reviews}):null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,t,a){e.exports=a.p+"static/media/image1.d0ce1ed2.jpg"},34:function(e,t,a){e.exports=a.p+"static/media/image2.da7e869d.jpg"},81:function(e,t,a){e.exports=a(175)},86:function(e,t,a){},87:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.ce942a04.chunk.js.map